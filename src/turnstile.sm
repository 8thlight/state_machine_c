%class Turnstile
%start MainMap::Locked
%header Turnstile.h
%map MainMap
%%
Locked
{
         Coin Unlocked { ReleaseLock(); }
         Push nil      { NotifySecurity(); }
         Full OutOfOrder { }
}
Unlocked
{
         Push Locked   { EngageLock(); }
         Coin nil      { RefundCoin(); }
         Empty Locked  { }
}
OutOfOrder
{
         Coin  nil      { RefundCoin(); }
         Empty Locked   { }
         Push  nil      { NotifySecurity(); }

}
%%
